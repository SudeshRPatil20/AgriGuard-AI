<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fertilizer Prediction System</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background:#f7fafc;
      color:#1a202c;
      padding:24px;
    }
    .container {
      max-width:760px;
      margin:0 auto;
      background:#fff;
      border-radius:8px;
      box-shadow:0 6px 18px rgba(0,0,0,0.08);
      padding:24px;
    }
    h1 {
      margin:0 0 12px;
      font-size:24px;
      text-align:center;
    }
    form {
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
    }
    label {
      display:block;
      font-size:13px;
      margin-bottom:6px;
      color:#2d3748;
    }
    input[type="number"], select {
      width:100%;
      padding:10px;
      border:1px solid #e2e8f0;
      border-radius:6px;
      font-size:14px;
    }
    .actions {
      grid-column: 1 / -1;
      display:flex;
      justify-content:center;
      gap:16px;
      margin-top:16px;
    }
    button {
      background:#2563eb;
      color:#fff;
      border:none;
      padding:12px 20px;
      border-radius:8px;
      cursor:pointer;
      font-weight:600;
      font-size:15px;
      transition:background 0.2s;
    }
    button:hover {
      background:#1e40af;
    }
    .how-btn {
      background:#059669;
    }
    .how-btn:hover {
      background:#047857;
    }
    .result {
      background:#f1f5f9;
      padding:12px;
      border-radius:6px;
      margin-top:20px;
      border:1px solid #e2e8f0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üåæ Fertilizer Recommendation System</h1>
    <p style="text-align:center; font-size:14px; color:#4b5563;">
      Enter soil and weather parameters below to get the best fertilizer and usage guidance.
    </p>

    <form action="{{ url_for('predict_datapoint') }}" method="post">
      <div>
        <label for="temperature">Temperature (¬∞C)</label>
        <input id="temperature" name="temperature" type="number" step="0.01" required />
      </div>

      <div>
        <label for="humidity">Humidity (%)</label>
        <input id="humidity" name="humidity" type="number" step="0.01" required />
      </div>

      <div>
        <label for="moisture">Moisture (%)</label>
        <input id="moisture" name="moisture" type="number" step="0.01" required />
      </div>

      <div>
        <label for="nitrogen">Nitrogen (N)</label>
        <input id="nitrogen" name="nitrogen" type="number" step="0.01" required />
      </div>

      <div>
        <label for="potassium">Potassium (K)</label>
        <input id="potassium" name="potassium" type="number" step="0.01" required />
      </div>

      <div>
        <label for="phosphorous">Phosphorous (P)</label>
        <input id="phosphorous" name="phosphorous" type="number" step="0.01" required />
      </div>

      <div>
        <label for="crop_type">Crop Type</label>
        <select id="crop_type" name="crop_type" required>
          <option value="" disabled selected>Choose crop</option>
          <option value="Maize">Maize</option>
          <option value="Sugarcane">Sugarcane</option>
          <option value="Cotton">Cotton</option>
          <option value="Tobacco">Tobacco</option>
          <option value="Paddy">Paddy</option>
          <option value="Barley">Barley</option>
          <option value="Wheat">Wheat</option>
          <option value="Millets">Millets</option>
          <option value="Oil seeds">Oil seeds</option>
          <option value="Pulses">Pulses</option>
          <option value="Ground Nuts">Ground Nuts</option>
        </select>
      </div>

      <div>
        <label for="soil_type">Soil Type</label>
        <select id="soil_type" name="soil_type" required>
          <option value="" disabled selected>Choose soil type</option>
          <option value="Sandy">Sandy</option>
          <option value="Loamy">Loamy</option>
          <option value="Black">Black</option>
          <option value="Red">Red</option>
          <option value="Clayey">Clayey</option>
        </select>
      </div>

      <div class="actions">
        <button type="submit">üîç Predict Fertilizer</button>
        <button type="submit" formaction="{{ url_for('rag_info') }}" class="how-btn">üìò How to Use</button>
      </div>
    </form>

    {% if results %}
    <div class="result">
      <strong>Predicted Fertilizer:</strong> {{ results }}
    </div>
    {% endif %}

    {% if steps %}
    <div class="result">
      <strong>Usage Steps:</strong><br/>{{ steps }}
    </div>
    {% endif %}
  </div>
</body>
</html>
